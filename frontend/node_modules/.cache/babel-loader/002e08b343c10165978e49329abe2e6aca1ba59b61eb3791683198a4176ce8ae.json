{"ast":null,"code":"// src/components/Login.js\nimport React from'react';// import { useNavigate } from 'react-router-dom';\nimport'../styles/Login.css';function Login(){//   const navigate = useNavigate(); // useNavigate 추가\n// 폼 리셋 함수\nconst resetForm=()=>{setId('');setPassword('');};//변수\nconst[id,setId]=React.useState('');const[password,setPassword]=React.useState('');//handleChange\nconst handleIdChange=event=>setId(event.target.value);const handlePasswordChange=event=>setPassword(event.target.value);//handleSubmit\nconst handleSubmit=async event=>{event.preventDefault();// const data = { id,password };\ntry{const response=await fetch('/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id,password})});// 응답 상태 확인\nif(!response.ok){const errorData=await response.json();if(errorData.error===\"ID does not exist\"||errorData.error===\"Invalid Password\"){window.alert(\"아이디 또는 비밀번호가 틀렸습니다.\");}else{console.error(\"Error:\",errorData.error);window.alert(\"Error: \"+errorData.error);}resetForm();return;}else{// 성공 처리\nconst responseData=await response.json();sessionStorage.setItem(\"token\",responseData.token);// JWT 저장\nsessionStorage.setItem(\"ID\",id);//Id 저장\nwindow.location.href='/';}}catch(error){console.error(\"Unexpected error:\",error);window.alert(\"Unexpected error occurred. Please try again.\");}};return/*#__PURE__*/React.createElement('div',{className:'login-container',onSubmit:handleSubmit},/*#__PURE__*/React.createElement('h2',null,'로그인'),/*#__PURE__*/React.createElement('form',{className:'login-form'},/*#__PURE__*/React.createElement('label',null,'ID: '),/*#__PURE__*/React.createElement('input',{type:'text',name:'id',value:id,onChange:handleIdChange,required:true}),/*#__PURE__*/React.createElement('label',null,'비밀번호: '),/*#__PURE__*/React.createElement('input',{type:'password',name:'password',value:password,onChange:handlePasswordChange,required:true}),/*#__PURE__*/React.createElement('button',{type:'submit'},'로그인')));}export default Login;","map":{"version":3,"names":["React","Login","resetForm","setId","setPassword","id","useState","password","handleIdChange","event","target","value","handlePasswordChange","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","error","window","alert","console","responseData","sessionStorage","setItem","token","location","href","createElement","className","onSubmit","type","name","onChange","required"],"sources":["/Users/jinmyeonghun/Desktop/3-2/공소/2024-2-CSC4004-6-Hotsix/frontend/src/components/Login.js"],"sourcesContent":["// src/components/Login.js\nimport React from 'react';\n// import { useNavigate } from 'react-router-dom';\nimport '../styles/Login.css'; \n\nfunction Login() {\n\n//   const navigate = useNavigate(); // useNavigate 추가\n  // 폼 리셋 함수\n  const resetForm = () => {\n      setId('');\n      setPassword('');\n  };\n\n  //변수\n  const [id, setId] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  //handleChange\n  const handleIdChange = (event) => setId(event.target.value);\n  const handlePasswordChange = (event) => setPassword(event.target.value);\n\n  //handleSubmit\n  const handleSubmit = async (event) => {\n      event.preventDefault();\n      // const data = { id,password };\n\n      try {\n          const response = await fetch('/login', {\n              method: 'POST',\n              headers: {'Content-Type': 'application/json'},\n              body: JSON.stringify({id, password}),\n          });\n          // 응답 상태 확인\n          if (!response.ok) {\n              const errorData = await response.json();\n              if (errorData.error === \"ID does not exist\" || errorData.error === \"Invalid Password\") {\n                  window.alert(\"아이디 또는 비밀번호가 틀렸습니다.\");\n              } else {\n                  console.error(\"Error:\", errorData.error);\n                  window.alert(\"Error: \" + errorData.error);\n              }\n              resetForm();\n              return;\n          }\n          else {\n              // 성공 처리\n              const responseData = await response.json();\n              sessionStorage.setItem(\"token\", responseData.token); // JWT 저장\n              sessionStorage.setItem(\"ID\",id);  //Id 저장\n              window.location.href = '/';\n          }\n      }\n      catch(error) {\n          console.error(\"Unexpected error:\", error);\n          window.alert(\"Unexpected error occurred. Please try again.\");\n      }\n  }\nreturn (\n  React.createElement('div', { className: 'login-container',onSubmit: handleSubmit },\n    React.createElement('h2', null, '로그인'),\n    React.createElement('form', { className: 'login-form' },\n        React.createElement('label', null, 'ID: '),\n        React.createElement('input', {\n            type: 'text',\n            name: 'id',\n            value: id,\n            onChange: handleIdChange,\n            required: true\n        }),\n        React.createElement('label', null, '비밀번호: '),\n        React.createElement('input', {\n            type: 'password',\n            name: 'password',\n            value: password,\n            onChange: handlePasswordChange,\n            required: true\n        }),\n      React.createElement('button', { type: 'submit' }, '로그인')\n    )\n  )\n);\n}\n  \n  export default Login;\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}